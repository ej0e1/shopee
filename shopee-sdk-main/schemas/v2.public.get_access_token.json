{
  "api_id": 741,
  "api_name": "v2.public.get_access_token",
  "api_type": "Public",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "Use the code from the authorization step to call this API to obtain the authorized shop_id, merchant_id, supplier_id, or user_id, and its corresponding access_token and refresh_token.",
  "error_list": [
    {
      "name": "error_param",
      "description": "Invalid partner_id."
    },
    {
      "name": "error_param",
      "description": "There is no partner_id in query."
    },
    {
      "name": "error_auth",
      "description": "No permission to current api."
    },
    {
      "name": "error_param",
      "description": "There is no sign in query."
    },
    {
      "name": "error_sign",
      "description": "Wrong sign."
    },
    {
      "name": "error_param",
      "description": "no timestamp"
    },
    {
      "name": "error_param",
      "description": "Invalid timestamp"
    },
    {
      "name": "error_network",
      "description": "Inner http call failed"
    },
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "invalid_code",
      "description": "The code is expired or used or invalid, please check the code."
    },
    {
      "name": "invalid_main_acount_id",
      "description": "The code or main_accoount_id is wrong, please check the code or the main_account_id."
    },
    {
      "name": "invalid_partner_id",
      "description": "Invalid partner_id, please have a check."
    },
    {
      "name": "invalid_shop_id",
      "description": "The code or shop_id is wrong, please check the code or the shop_id."
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    },
    {
      "name": "error_server",
      "description": "error server"
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 104,
  "module_name": "Public",
  "params": "{\"request_params\":[{\"name\":\"code\",\"limits\":\"\",\"required\":\"True\",\"sample\":\"5a5477794a55537954697169514f4653\",\"type\":\"string\",\"description\":\"The code in redirect url after the authorization. Valid for one-time use, expires in 10 minutes\",\"key\":\"ncZidbG\"},{\"name\":\"partner_id\",\"limits\":\"\",\"required\":\"True\",\"sample\":\"1001141\",\"type\":\"int64\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\",\"key\":\"YwhKSSp\"},{\"name\":\"shop_id\",\"limits\":\"\",\"required\":\"False\",\"sample\":\"\",\"type\":\"int64\",\"description\":\"<p>Shopee's unique identifier for a shop.&nbsp;</p>\",\"key\":\"AbWfTdP\"},{\"name\":\"main_account_id\",\"limits\":\"\",\"required\":\"False\",\"sample\":\"\",\"type\":\"int64\",\"description\":\"<p>The main_account_id of the seller that authorized the developer.</p>\",\"key\":\"JzacaHm\"}],\"response_params\":[{\"sample\":\"\",\"type\":\"string\",\"name\":\"error\",\"description\":\"<p>Error codes for API requests; always returned.When the API call is successful, the error code returned is empty.<br /></p>\",\"key\":\"isZrDxS\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"message\",\"description\":\"<p>Always returned. Provides detailed error information.<br /></p>\",\"key\":\"MHDQCGR\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"request_id\",\"description\":\"<p>ID of API requests; always returned. Used to diagnose problems.<br /></p>\",\"key\":\"PDDTxGP\"},{\"sample\":\"\",\"type\":\"int64[]\",\"name\":\"shop_id_list\",\"description\":\"<p>Returned all shop_ids authorized this time.</p>\",\"key\":\"GpcmXc\"},{\"sample\":\"\",\"type\":\"int64[]\",\"name\":\"merchant_id_list\",\"description\":\"<p>Returned all merchant_ids authorized this time.</p>\",\"key\":\"bCAwBWD\"},{\"description\":\"<p>Returned all supplier_ids authorized this time.</p>\",\"name\":\"supplier_id_list\",\"sample\":\"\",\"type\":\"int64[]\",\"required\":null,\"key\":\"frYJQYE\"},{\"description\":\"<p>Returned all user_ids authorized this time.</p>\",\"name\":\"user_id_list\",\"sample\":\"\",\"type\":\"int64[]\",\"required\":null,\"key\":\"mZbYDxb\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"access_token\",\"description\":\"<p>Returned when the API call is successful. A dynamic token that can be used multiple times and expires after 4 hours.<br /></p>\",\"key\":\"dwPcFZs\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"refresh_token\",\"description\":\"<p>Returned when the API call is successful. Use refresh_token to get a new access_token. Valid for each shop_id, merchant_id, supplier_id, or user_id respectively, for 30 days.<br /></p>\",\"key\":\"enxsnRw\"},{\"sample\":\"\",\"type\":\"timestamp\",\"name\":\"expire_in\",\"description\":\"<p>Returned when the API call is successful. The validity period of the access_token, in seconds.<br /></p>\",\"key\":\"kwiZCpA\"}]}",
  "perm_mtime": 1663655236,
  "perm_operator": "caixia.tu@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 80305,
  "rate_limit": "[0, 0, 0]",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\n\\t\\\"code\\\": \\\"5a5477794a55537954697169514f4653\\\",\\n\\t\\\"partner_id\\\": 1001141\\n}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://partner.shopeemobile.com/api/v2/auth/token/get?partner_id=partner_id&sign=sign&timestamp=timestamp\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"code\\\\\\\": \\\\\\\"5a5477794a55537954697169514f4653\\\\\\\",\\n   \\\\\\\"partner_id\\\\\\\": 1001141\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.shopeemobile.com/api/v2/auth/token/get?partner_id=partner_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"code\\\": \\\"5a5477794a55537954697169514f4653\\\",\\n    \\\"partner_id\\\": 1001141\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://partner.shopeemobile.com/api/v2/auth/token/get?partner_id=partner_id&sign=sign&timestamp=timestamp' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"code\\\": \\\"5a5477794a55537954697169514f4653\\\",\\n   \\\"partner_id\\\": 1001141\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://partner.shopeemobile.com/api/v2/auth/token/get?partner_id=partner_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"code\\\": \\\"5a5477794a55537954697169514f4653\\\",\\n  \\\"partner_id\\\": 1001141\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.RPCRequest(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"error\\\": \\\"\\\",\\n    \\\"message\\\": \\\"\\\"\\n    \\\"request_id\\\": \\\"f2a678875e669fdbdb4cbc6a9a18b895\\\",\\n    \\\"shop_id_list\\\": [368765100, 368765098, 368765097],\\n    \\\"access_token\\\": \\\"6b5a46716e474d6f6e59777659459849\\\",\\n    \\\"refresh_token\\\": \\\"4c7259534969484e71734d695a6e0d55\\\",\\n    \\\"expire_in\\\": 1767001812\\n}\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/auth/token/get",
  "update_log_list": [
    {
      "date": "2024-11-08",
      "content": "Add supplier_id"
    },
    {
      "date": "2022-09-20",
      "content": "add"
    },
    {
      "date": "2021-09-02",
      "content": "update"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/auth/token/get",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"error\\\": \\\"error_auth\\\",\\n    \\\"message\\\": \\\"Invalid code\\\",\\n    \\\"request_id\\\": \\\"264e31f1f14eb20834e485dc319ffa85\\\"\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Product Management",
    "Order Management",
    "Accounting And Finance",
    "Marketing",
    "Customer Service",
    "Brand Membership",
    "Customized APP",
    "Ads Service",
    "Consignment Service System",
    "Custom APP",
    "Swam ERP",
    "Livestream Management",
    "Ads Facil",
    "Affiliate Marketing Solution Management",
    "Shopee Video Management"
  ],
  "path": "/api/v2/auth/token/get"
}