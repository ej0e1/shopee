{
  "api_id": 742,
  "api_name": "v2.public.refresh_access_token",
  "api_type": "Public",
  "common_params": "[{\"name\":\"partner_id\",\"type\":\"int\",\"sample\":\"1\",\"description\":\"Partner ID is assigned upon registration is successful. Required for all requests.\"},{\"name\":\"timestamp\",\"type\":\"timestamp\",\"sample\":\"1610000000\",\"description\":\"This is to indicate the timestamp of the request. Required for all requests. Expires in 5 minutes.\"},{\"name\":\"sign\",\"type\":\"string\",\"sample\":\"e318d3e932719916a9f9ebb57e2011961bd47abfa54a36e040d050d8931596e2\",\"description\":\"Signature generated by partner_id, api path, timestamp and partner_key via HMAC-SHA256 hashing algorithm. More details: <a href= https://open.shopee.com/documents?module=87&type=2&id=58&version=2> https://open.shopee.com/documents?module=87&type=2&id=58&version=2</a>\"}]",
  "define": "Use this API to refresh the access_token after it expires. Refresh_token can be used once only, this API will also return a new refresh_token. Please use the new refresh_token for the next RefreshAccessToken call",
  "error_list": [
    {
      "name": "error_param",
      "description": "Invalid partner_id."
    },
    {
      "name": "error_param",
      "description": "There is no partner_id in query."
    },
    {
      "name": "error_auth",
      "description": "No permission to current api."
    },
    {
      "name": "error_param",
      "description": "There is no sign in query."
    },
    {
      "name": "error_sign",
      "description": "Wrong sign."
    },
    {
      "name": "error_param",
      "description": "no timestamp"
    },
    {
      "name": "error_param",
      "description": "Invalid timestamp"
    },
    {
      "name": "error_network",
      "description": "Inner http call failed"
    },
    {
      "name": "error_data",
      "description": "parse data failed"
    },
    {
      "name": "error_data",
      "description": "data not exist"
    },
    {
      "name": "error_param",
      "description": "parameter invalid"
    },
    {
      "name": "error_param",
      "description": "The information you queried is not found."
    },
    {
      "name": "error_param",
      "description": "Wrong parameters, detail: {msg}."
    },
    {
      "name": "error_server",
      "description": "Something wrong. Please try later.\t"
    },
    {
      "name": "merchant_access_expired",
      "description": "Your access to merchant has expired."
    },
    {
      "name": "merchant_no_linked",
      "description": "Partner and merchant has no linked."
    },
    {
      "name": "error_merchant_refresh_token",
      "description": "Your refresh token is error,please check refresh token or merchant_id."
    },
    {
      "name": "error_param",
      "description": "request not from gateway"
    },
    {
      "name": "shop_banned",
      "description": "The shop account has been banned. Permissions for shop authorization and API calls have been suspended until the shop account is restored."
    },
    {
      "name": "refresh_token_expired",
      "description": "Your refresh_token expired."
    },
    {
      "name": "error_server",
      "description": "error server"
    },
    {
      "name": "shop_access_expired",
      "description": "Your access to shop has expired."
    },
    {
      "name": "shop_banned",
      "description": "The shop account has been banned. Permissions for shop authorization and API calls have been suspended until the shop account is restored."
    },
    {
      "name": "shop_no_linked",
      "description": "Partner and shop has no linked."
    },
    {
      "name": "error_shop_refresh_token",
      "description": "Your refresh token is error ,please check refresh token or shopid."
    },
    {
      "name": "supplier_access_expired",
      "description": "Your access to supplier has expired."
    },
    {
      "name": "supplier_no_linked",
      "description": "Partner and Supplier has no linked."
    },
    {
      "name": "error_merchant_refresh_token",
      "description": "Your refresh token is error ,please check refresh token or supplier_id."
    }
  ],
  "errors": "",
  "gateway_api_id": 0,
  "is_get_method": 0,
  "method": 1,
  "module_id": 104,
  "module_name": "Public",
  "params": "{\"request_params\":[{\"name\":\"refresh_token\",\"limits\":\"\",\"required\":\"True\",\"sample\":\"4c7259534969484e71734d695a6e6d55\",\"type\":\"string\",\"description\":\"<p>Use refresh_token to get a new access_token.&nbsp;Each refresh_token is valid for 30 days, and can only be used once by either a shop_id or merchant_id or supplier_id or user_id.</p>\",\"key\":\"SsswMnZ\"},{\"name\":\"partner_id\",\"limits\":\"\",\"required\":\"True\",\"sample\":\"2001887\",\"type\":\"int64\",\"description\":\"<p>The partner_id obtained from the App. This partner_id is inserted into the body.</p>\",\"key\":\"MmhTpEE\"},{\"name\":\"shop_id\",\"limits\":\"\",\"required\":\"False\",\"sample\":\"322300222\",\"type\":\"int64\",\"description\":\"<p>The shop_id that granted authorization to your App. Only the shop_id&nbsp;or&nbsp;merchant_id or supplier_id or user_id can be selected as the input parameter, and they must be refreshed separately.</p>\",\"key\":\"CpTxrMe\"},{\"name\":\"merchant_id\",\"limits\":\"\",\"required\":\"False\",\"sample\":\"\",\"type\":\"int64\",\"description\":\"<p>The merchant_id that granted authorization to your App. Only the shop_id&nbsp;or&nbsp;merchant_id or supplier_id or user_id can be selected as the input parameter, and they must be refreshed separately.</p>\",\"key\":\"QJbmhRX\"},{\"description\":\"<p>The supplier_id that granted authorization to your App. Only the shop_id&nbsp;or&nbsp;merchant_id or supplier_id or user_id can be selected as the input parameter, and they must be refreshed separately.</p>\",\"name\":\"supplier_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":\"False\",\"key\":\"YrrYte\"},{\"description\":\"<p>The user_id that granted authorization to your App. Only the shop_id&nbsp;or&nbsp;merchant_id or supplier_id or user_id can be selected as the input parameter, and they must be refreshed separately.</p>\",\"name\":\"user_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":\"False\",\"key\":\"yxjzmET\"}],\"response_params\":[{\"sample\":\"\",\"type\":\"string\",\"name\":\"error\",\"description\":\"<p>Indicate error type if hit error. Empty if no error happened.</p>\",\"key\":\"ZEcWWGG\"},{\"description\":\"<p>Indicate error details if hit error. Empty if no error happened.<br /></p>\",\"name\":\"message\",\"sample\":\"\",\"type\":\"string\",\"required\":null,\"key\":\"cNFkNhf\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"request_id\",\"description\":\"<p>The identifier for an API request for error tracking.<br /></p>\",\"key\":\"YPBFKB\"},{\"sample\":\"\",\"type\":\"int64\",\"name\":\"partner_id\",\"description\":\"<p>Returned when the API call is successful. The partner_id you used for this refresh.<br /></p>\",\"key\":\"WGHjHds\"},{\"sample\":\"\",\"type\":\"int64\",\"name\":\"shop_id\",\"description\":\"<p>Returned when the API call is successful. The shop_id for this refresh.<br /></p>\",\"key\":\"HBkCCQi\"},{\"sample\":\"\",\"type\":\"int64\",\"name\":\"merchant_id\",\"description\":\"<p>Returned when the API call is successful. The merchant_id for this refresh.<br /></p>\",\"key\":\"NxcbBwn\"},{\"description\":\"<p>Returned when the API call is successful. The supplier_id for this refresh.</p>\",\"name\":\"supplier_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":null,\"key\":\"zjxtkJw\"},{\"description\":\"<p>Returned when the API call is successful. The user_id for this refresh.</p>\",\"name\":\"user_id\",\"sample\":\"\",\"type\":\"int64\",\"required\":null,\"key\":\"wRZGRMY\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"access_token\",\"description\":\"<p>Returned when the API call is successful. Each new access_token is a dynamic token that can be used multiple times. It expires after 4 hours.<br /></p>\",\"key\":\"aBEBJGr\"},{\"sample\":\"\",\"type\":\"string\",\"name\":\"refresh_token\",\"description\":\"<p>New refresh_tokenReturned when the API call is successful. Use a refresh_token to get a new access_token. Each refresh_token is valid for 30 days, and can only be used once by either a shop_id or merchant_id or supplier_id or user_id.<br /></p>\",\"key\":\"FmXJmM\"},{\"sample\":\"\",\"type\":\"timestamp\",\"name\":\"expire_in\",\"description\":\"<p>Returned when the API call is successful. The validity period of the access_token, in seconds.<br /></p>\",\"key\":\"bQMEKEk\"}]}",
  "perm_mtime": 1663655243,
  "perm_operator": "caixia.tu@shopee.com",
  "perm_type": 1,
  "perm_upload_file_name": "",
  "priority": 80306,
  "rate_limit": "[0, 0, 0]",
  "request_sample": "[{\"type\":\"Payload\",\"value\":\"{\\n\\t\\\"refresh_token\\\": \\\"4c7259534969484e71734d695a6e6d55\\\",\\n\\t\\\"partner_id\\\": 2001887,\\n\\t\\\"shop_id\\\": 322300222\\n}\"},{\"type\":\"Java\",\"value\":\"Unirest.setTimeouts(0, 0);\\nHttpResponse<String> response = Unirest.post(\\\"https://partner.shopeemobile.com/api/v2/auth/access_token/get?partner_id=partner_id&sign=sign&timestamp=timestamp\\\")\\n.header(\\\"Content-Type\\\",\\\"application/json\\\")\\n.body(\\\"{\\n   \\\\\\\"partner_id\\\\\\\": 2001887,\\n   \\\\\\\"refresh_token\\\\\\\": \\\\\\\"4c7259534969484e71734d695a6e6d55\\\\\\\",\\n   \\\\\\\"shop_id\\\\\\\": 322300222\\n}\\\")\\n.asString();\"},{\"type\":\"PHP\",\"value\":\"<?php\\n\\n$curl = curl_init();\\n\\ncurl_setopt_array($curl, array(\\n  CURLOPT_URL => 'https://partner.shopeemobile.com/api/v2/auth/access_token/get?partner_id=partner_id&sign=sign&timestamp=timestamp',\\n  CURLOPT_RETURNTRANSFER => true,\\n  CURLOPT_ENCODING => '',\\n  CURLOPT_MAXREDIRS => 10,\\n  CURLOPT_TIMEOUT => 0,\\n  CURLOPT_FOLLOWLOCATION => true,\\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\\n  CURLOPT_CUSTOMREQUEST => 'POST',\\n  CURLOPT_POSTFIELDS => '{\\n    \\\"partner_id\\\": 2001887,\\n    \\\"refresh_token\\\": \\\"4c7259534969484e71734d695a6e6d55\\\",\\n    \\\"shop_id\\\": 322300222\\n}',\\n  CURLOPT_HTTPHEADER => array(\\n    'Content-Type: application/json'\\n  ),\\n));\\n\\n$response = curl_exec($curl);\\n\\ncurl_close($curl);\\necho $response;\\n\"},{\"type\":\"cURL\",\"value\":\"curl --location --request POST 'https://partner.shopeemobile.com/api/v2/auth/access_token/get?partner_id=partner_id&sign=sign&timestamp=timestamp' \\\\\\n--header 'Content-Type: application/json' \\\\\\n--data-raw '{\\n   \\\"partner_id\\\": 2001887,\\n   \\\"refresh_token\\\": \\\"4c7259534969484e71734d695a6e6d55\\\",\\n   \\\"shop_id\\\": 322300222\\n}'\\n\"},{\"type\":\"Python\",\"value\":\"import requests\\nimport json\\n\\nurl = \\\"https://partner.shopeemobile.com/api/v2/auth/access_token/get?partner_id=partner_id&sign=sign&timestamp=timestamp\\\"\\n\\npayload=json.dumps({\\n  \\\"partner_id\\\": 2001887,\\n  \\\"refresh_token\\\": \\\"4c7259534969484e71734d695a6e6d55\\\",\\n  \\\"shop_id\\\": 322300222\\n})\\nheaders = {\\n  'Content-Type': 'application/json'\\n}\\nresponse = requests.RPCRequest(\\\"POST\\\",url,headers=headers, data=payload, allow_redirects=False)\\n\\nprint(response.text)\\n\"}]",
  "response_sample": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"error\\\": \\\"\\\",\\n    \\\"message\\\": \\\"\\\",\\n    \\\"request_id\\\": \\\"83089a02e46d77b64882c0c93aba5267\\\",\\n    \\\"partner_id\\\": 2001887,\\n    \\\"shop_id\\\": 322300222,\\n    \\\"access_token\\\": \\\"71594a4c54537649697341796363674a\\\",\\n    \\\"refresh_token\\\": \\\"516c6b577753554375764a63704d7245\\\",\\n    \\\"expire_in\\\": 14400\\n}\\n\"}]",
  "status": 1,
  "tag": "",
  "test_url": "https://partner.test-stable.shopeemobile.com/api/v2/auth/access_token/get",
  "update_log_list": [
    {
      "date": "2021-09-02",
      "content": "update"
    }
  ],
  "url": "https://partner.shopeemobile.com/api/v2/auth/access_token/get",
  "version": "",
  "error_example": "[{\"type\":\"JSON\",\"value\":\"{\\n    \\\"error\\\": \\\"error_auth\\\",\\n    \\\"message\\\": \\\"Invalid refresh_token.\\\",\\n    \\\"request_id\\\": \\\"d95d6db199da20e3fe1c913a54dc6746\\\"\\n}\"}]",
  "api_permission": [
    "ERP System",
    "Seller In House System",
    "Product Management",
    "Order Management",
    "Accounting And Finance",
    "Marketing",
    "Customer Service",
    "Brand Membership",
    "Customized APP",
    "Ads Service",
    "Consignment Service System",
    "Custom APP",
    "Swam ERP",
    "Livestream Management",
    "Ads Facil",
    "Affiliate Marketing Solution Management",
    "Shopee Video Management"
  ],
  "path": "/api/v2/auth/access_token/get"
}